
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://nus-cs2030.github.io/1718-s2/unix/index.html">
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.4">
    
    
      
        <title>UNIX - CS2030 Programming Methodology II</title>
      
    
    
      <script src="../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-769c285a91.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="https://nus-cs2030.github.io/1718-s2" title="CS2030 Programming Methodology II" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Software/Tools
                </span>
              
            
            UNIX
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/nus-cs2030/1718-s2" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    CS2030 Programming Methodology II
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/nus-cs2030/1718-s2" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/index.html" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prereqs/index.html" title="Prerequisites" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/index.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../schedule/index.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../readings/index.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Lectures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Lectures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lec01/index.html" title="1. Abstraction & Encapsulation" class="md-nav__link">
      1. Abstraction & Encapsulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec02/index.html" title="2. Interface, Inheritance & Polymorphism" class="md-nav__link">
      2. Interface, Inheritance & Polymorphism
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec03/index.html" title="3. More on Inheritance" class="md-nav__link">
      3. More on Inheritance
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../style/index.html" title="Coding Style" class="md-nav__link">
      Coding Style
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Software/Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jdk/index.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../javadoc/index.html" title="Javadoc" class="md-nav__link">
      Javadoc
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        UNIX
      </label>
    
    <a href="index.html" title="UNIX" class="md-nav__link md-nav__link--active">
      UNIX
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-environment" title="The Environment" class="md-nav__link">
    The Environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-cs2030-i-from-outside-soc" title="Accessing cs2030-i from Outside SoC" class="md-nav__link">
    Accessing cs2030-i from Outside SoC
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-soc-vpn" title="Using SoC VPN" class="md-nav__link">
    Using SoC VPN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tunneling-through-sunfire" title="Tunneling through Sunfire" class="md-nav__link">
    Tunneling through Sunfire
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssh-using-sunfires-terminal" title="SSH Using Sunfire's Terminal" class="md-nav__link">
    SSH Using Sunfire's Terminal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-port-forwarding" title="SSH Port Forwarding" class="md-nav__link">
    SSH Port Forwarding
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-ssh-keys" title="Setting up SSH Keys" class="md-nav__link">
    Setting up SSH Keys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/index.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-environment" title="The Environment" class="md-nav__link">
    The Environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-cs2030-i-from-outside-soc" title="Accessing cs2030-i from Outside SoC" class="md-nav__link">
    Accessing cs2030-i from Outside SoC
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-soc-vpn" title="Using SoC VPN" class="md-nav__link">
    Using SoC VPN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tunneling-through-sunfire" title="Tunneling through Sunfire" class="md-nav__link">
    Tunneling through Sunfire
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssh-using-sunfires-terminal" title="SSH Using Sunfire's Terminal" class="md-nav__link">
    SSH Using Sunfire's Terminal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-port-forwarding" title="SSH Port Forwarding" class="md-nav__link">
    SSH Port Forwarding
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-ssh-keys" title="Setting up SSH Keys" class="md-nav__link">
    Setting up SSH Keys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nus-cs2030/1718-s2/edit/master/docs/unix.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="accessing-cs2030-lab-programming-environment">Accessing CS2030 Lab Programming Environment</h1>
<h2 id="the-environment">The Environment</h2>
<p>The school has created a VM (virtual machine) for CS2030, with hostname <code class="codehilite">cs2030-i.comp.nus.edu.sg</code>.  The VM is running CentOS, one of the Linux distributions.
This will be the official programming environment for CS2030 for all your lab assignments.</p>
<p>I have created your accounts on the VM based on your SoC UNIX account.  You can login with your SoC UNIX username (not your NUSNET username, unless you intentionally set the two to be the same) and password.</p>
<h2 id="accessing-cs2030-i-from-outside-soc">Accessing <code class="codehilite">cs2030-i</code> from Outside SoC</h2>
<p>THe VM can only be accessed from within the School of Computing networks.  If you want to access it from outside, there are two ways</p>
<h3 id="using-soc-vpn">Using SoC VPN</h3>
<p>One way is to setup a Virtual Private Network (VPN) (See <a href="https://docs.comp.nus.edu.sg/node/5065">instruction here</a>).  The staff at <code class="codehilite">helpdesk@comp.nus.edu.sg</code> or the IT helpdesk in COM1, Level 1, will be able to help with you setting up if needed.</p>
<h3 id="tunneling-through-sunfire">Tunneling through Sunfire</h3>
<p>The alternative is to use ssh tunnels.</p>
<p>SoC's Sunfire (<code class="codehilite">sunfire.comp.nus.edu.sg</code>) is configured to allow your connection if it's originating from a local telco. (See <a href="https://docs.comp.nus.edu.sg/node/1824">more details here</a>.)  Since <code class="codehilite">sunfire</code> is situated within the School of Computing network, <code class="codehilite">sunfire</code> is able to access the VM.  This opens the possibility of connecting from your device (using an Internet connection from a local telco) to <code class="codehilite">sunfire</code>, and then from <code class="codehilite">sunfire</code> to the VM.</p>
<p>There are two ways to achieve this, and in both ways it appears to the CS2030 VM that Sunfire is the client.</p>
<h4 id="ssh-using-sunfires-terminal">SSH Using Sunfire's Terminal</h4>
<p>Connect to Sunfire at <code class="codehilite">sunfire.comp.nus.edu.sg</code> via your favourite SSH client.  After logging in, run the command <code class="codehilite">ssh cs2030-i</code> to connect to the CS2030 VM.  This effectively starts an SSH session to the VM from within your existing SSH session to Sunfire.  Refer to instructions below on how to connect via SSH.</p>
<h4 id="ssh-port-forwarding">SSH Port Forwarding</h4>
<p>SSH has built-in support for local and remote port forwarding, and local port forwarding can be used to commect to the CS2030 VM.  Local port forwarding means that a port of the SSH client (your machine) is forwarded to the SSH server (<code class="codehilite">sunfire</code>), which opens a connection to a preset destination server (<code class="codehilite">cs2030-i</code>).  This method causes the CS2030 VM to seem as if it is hosted on a local port, e.g. <code class="codehilite"><span class="n">localhost</span><span class="o">:</span><span class="mi">2030</span></code>, allowing you to use your favourite SCP program (e.g. <a href="https://filezilla-project.org/">FileZilla</a>) to access the VM.</p>
<p>To use local port forwarding (from local port <code class="codehilite">2030</code>), connect to <code class="codehilite">sunfire</code> using ```
ssh -L 2030:cs2030-i.comp.nus.edu.sg:22 <username>@sunfire.comp.nus.edu.sg
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>This command opens an SSH tunnel from port `2030` of your machine to port `22` (the default SSH port) of `cs2030-i.comp.nus.edu.sg` via `sunfire`.  After successful login, open a separate SSH (or SCP) connection from your machine to `localhost:2030` to access the VM.

[`PuTTY`](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html) supports SSH port forwarding, so this setup can also be used on Windows.

## SSH

### For UNIX-based OS

If you use either macOS, Windows 10 (requires [Linux Subsystem on Windows](https://docs.microsoft.com/en-us/windows/wsl/install-win10)), or Linux, you should have the command line `ssh` installed.  

Run:
</pre></div>
</td></tr></table>
ssh <username>@cs2030-i.comp.nus.edu.sg
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Replace `&lt;username&gt;` with your SoC UNIX username, for instance, I would do:
</pre></div>
</td></tr></table>
ssh <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#111;&#111;&#105;&#119;&#116;&#64;&#99;&#115;&#50;&#48;&#51;&#48;&#45;&#105;&#46;&#99;&#111;&#109;&#112;&#46;&#110;&#117;&#115;&#46;&#101;&#100;&#117;&#46;&#115;&#103;">&#111;&#111;&#105;&#119;&#116;&#64;&#99;&#115;&#50;&#48;&#51;&#48;&#45;&#105;&#46;&#99;&#111;&#109;&#112;&#46;&#110;&#117;&#115;&#46;&#101;&#100;&#117;&#46;&#115;&#103;</a>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>After the command above, following the instructions on screen.  The first time you ever connect to `cs2030-i.comp.nus.edu.sg`, you will be warned that you are connecting to a previously unknown host.  Say `yes`, and you will be prompted with your SoC UNIX password.

### For Windows 7 or 8 (or Windows 10 without Linux Subsystem)

The desktop computers in Programming Lab 6 (PL6) runs Windows 7.  If you are using these computers, or your own computers with older versions of Windows, you need to use programs like [`PuTTY`](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html) to access the VM.


## Basic UNIX Commands

Once you logged into the VM, you will be prompted to enter a command with a prompt that looks like this:
</pre></div>
</td></tr></table>
happytan@cs2030-i:<sub>[xxx]$
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>This interface is provided by a UNIX shell -- not unlike `jshell`, this shell sits in a loop and wait for users to enter a command, then it interprets and executes the command.  There are many versions of shells, the default shell for our VM is `bash`[^1].

[^1]: I run `fish` on my macOS, as you might have noticed during the in-class demos.  You can use any shell you like, if you know what you are doing.  Otherwise, `bash` is a popular one.

_The following are adapted for CS2030 from [the instructions created by Aaron Tan](http://www.comp.nus.edu.sg/~cs1020/4_misc/cs1010_lect/2014/intro_lab/gettingStarted.html). Bugs are mine._  

The power of UNIX stems from the many commands it offers. The following are a few commonly used commands. This list is by no means exhaustive and you are urged to explore on your own. Note that UNIX commands are case-sensitive.

In the examples below, bold words are commands which you are expected to enter. All commands are to be entered after the UNIX (local or `sunfire` or `cs2030-i`) prompt of the form
</pre></div>
</td></tr></table>
happytan@cs2030-i:</sub>[xxx]$
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>`~` indicates that you are currently in your home directory, `xxx` is a number indicating the number of commands that have been entered.  The following examples assumes that user `happytan` is logged into cs2030-i; however you can do it on your local UNIX platform too.

It might be good to understand the directory structure in UNIX, a multi-user system. The directory tree is shown below:

![UNIX Directory Tree](figures/unix_directory_tree.jpg)

Each user has his/her own home directory, which is where he/she will be automatically placed when he/she logs into the system. The above figure shows where the home directory of user `happytan` resides in the directory tree. The user `happytan` may create files or directories in his/her home directory, but not elsewhere unless permission is given.

### Directory commands

- `pwd`: Print current Working Directory to show you which directory you are currently in
</pre></div>
</td></tr></table>
happytan@cs2030-i:~[xxx]$ pwd
/home/h/happytan
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>- `ls`: LiSt files in your current directory
</pre></div>
</td></tr></table>
happytan@cs2030-i:~[xxx]$ ls
happytan@cs2030-i:<sub>[xxx]$
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>   If you do not have any regular files in your home directory, as you should when you first login, you should immediately return to the shell prompt.  

!!! note &quot;Rule of Silence&quot;
        UNIX follows the _rule of silence_: programs should not print unnecessary output, to allow other programs and users to easily parse the output from one program.  So, if `ls` has nothing to list, it will list nothing (as oppose to, say, printing &quot;This is an empty directory.&quot;)

- `mkdir`: MaKe a subDIRectory in current directory
</pre></div>
</td></tr></table>
happytan@cs2030-i:</sub>[xxx]$ mkdir lab01
happytan@cs2030-i:~[xxx]$ ls
lab01
happytan@cs2030-i:~[xxx]$ ls -F
lab01/
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Here, you create a directory called `lab01`.  Now, when you `ls`, you can see the directory listed.
You may also use `ls -F` for more information (`-F` is one of the many _options_/_flags_ available for the `ls` command. To see a complete list of the options, refer to the man pages, i.e., `man ls`.)

    The slash `/` beside the filename tells you that the file is a directory (aka folder in Windows lingo). A normal file does not have a slash beside its name when &quot;ls -F&quot; is used.

    You may also use the `ls -l` command (hyphen el, not hyphen one) to display almost all the file information, include the size of the file and the date of modification.

!!! tip &quot;Command history&quot;
    UNIX maintains a history of your previously executed UNIX commands, and you may use the up and down arrows to go through it. Press the up arrow until you find a previously executed UNIX command. You may then press Enter to execute it, or edit the command before executing it. This is handy when you need to repeatedly executed a long UNIX command.

- `cd`: Change Directory from current directory to another
</pre></div>
</td></tr></table>
happytan@cs2030-i:~[xxx]$ cd lab01
happytan@cs2030-i:<sub>/lab01[xxx]$
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Note that the prompt changes to `~/lab01` to indicate that you are now in the `lab01` directory below your `HOME` directory.

    Entering `cd` alone brings you back to your `HOME` directory, i.e.,. the directory in which you started with when you first logged into the system.
</pre></div>
</td></tr></table>
happytan@cs2030-i:</sub>/lab01[xxx]$ cd
happytan@cs2030-i:<sub>[xxx]$
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>- `rmdir`:  to ReMove a subDIRectory in current directory -- note that a directory must be empty before it can be removed.
</pre></div>
</td></tr></table>
happytan@cs2030-i:</sub>[xxx]$ rmdir lab01
happytan@cs2030-i:~[xxx]$ ls -F
happytan@cs2030-i:~[xxx]$ mkdir lab01
happytan@cs2030-i:~[xxx]$ ls -F
lab01/
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>### File commands
- `cp`:  CoPy files
</pre></div>
</td></tr></table>
happytan@cs2030-i:~/lab01[xxx]$ cp ~cs2030/lab01/Circle.java .
happytan@cs2030-i:~/lab01[xxx]$ ls
Circle.java
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>The command above copy the files Circle.java from the HOME of user `cs2030`, under directory `lab01`, to the current directory.

If you want to copy the whole directory, use `-r` flag, where `r` stands for recursive copy.
</pre></div>
</td></tr></table>
happytan@cs2030-i:~/lab01[xxx]$ cp -r ~cs2030/lab01 .
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>The directory `lab01` and everything under it will be copied.

- `mv`: MoVe files from one directory to another; can also be used to rename files.
</pre></div>
</td></tr></table>
happytan@cs2030-i:~/lab01[xxx]$ mv Circle.java Test.java
happytan@cs2030-i:~/lab01[xxx]$ ls
Test.java
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>!!! tip &quot;Filename completion&quot;
    If you have a very long file name, you may use UNIX&#39;s filename completion feature to reduce typing. For instance, you may type:
    ```
    happytan@cs2030-i:~/lab01[xxx]$ mv C
    ```
    and press the tab key, and UNIX will complete the filename for you if there is only one filename with the prefix &quot;C&quot;. Otherwise, it will fill up the filename up to point where you need to type in more characters for disambiguation.


- `rm`: ReMove files. Be careful with this command -- files deleted cannot be restored (unless they have been backed up during the normal backup cycle).
</pre></div>
</td></tr></table>
happytan@cs2030-i:~/lab01[xxx]$ rm Test.java
rm: remove 'Test.java'? y
happytan@cs2030-i:~/lab01[xxx]$ ls
happytan@cs2030-i:<sub>/lab01[xxx]$
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>### Command to display text files
- `cat`: to string together or display (CATenate) the contents of files onto the screen
</pre></div>
</td></tr></table>
happytan@cs2030-i:</sub>/lab01[xxx]$ cat Circle.java
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>- `less` - variant of `cat` (includes features to read each page leisurely)
</pre></div>
</td></tr></table>
happytan@cs2030-i:~/lab01[xxx]$ less Circle.java
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>In `less`, use `&lt;space&gt;` to move down one page, `b` to move Back up one page, and `q` to Quit from &quot;less&quot;.

An online help facility is available in UNIX via the `man` command (`man` stands for MANual). To look for more information about any UNIX command, for example, `ls`, type `man ls`. Type `man man` and refer to Man Pages to find out more about the facility. To exit `man`, press `q`.

Now that you are familiar with how the UNIX shell works, I won&#39;t show the command prompt any more in the rest of this article.

### UNIX File Permission
It is important to guide our files properly on a multi-user system where users share the same file system.  UNIX has a simple mechanism to for ensuring that: every file and directory has nine bits of access permission, corresponds to three access operations, read (`r`), write (`w`), and execute (`x`), for four classes of users, the user who owns of the file (`u`), users in the same group as the owner (`g`), all other users (`o`), and all users (`a`) (union of all three classes before)

When you run `ls -l`, you will see the permission encoded as strings that look like `-rw-------` or `drwx--x--x` besides other file information.   

- The first character indicates if the file is a directory (`d`) or not (`-`).  
- The next three characters are the permission for the owner.  `rwx` means that the owner can do all three: reading, writing, and executing, `rw-` means that the owner can read and write, but cannot execute.
- The next three characters are the permission for the users in the same group.
- The last three characters are the permission for the users in the other groups.

To change permission, we use the `chmod` command.  Let&#39;s say that we want to remove the read and write permission from all other users in the group.  You can run:
</pre></div>
</td></tr></table>
chmod g-rw <file>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>where `&lt;file&gt;` is the name of the file whose permission you want to change.  This would change the permission from `-rw-rw-rw-` to `-rw----rw-`, or from `-rwxr--r--` to `-rwx---r--`.

To add executable permission to everyone, you can run:
</pre></div>
</td></tr></table>
chmod a+x <file>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>This would change the permission from `-rw-rw-rw-` to `-rwx--xrwx`, or from `-rwxr--r--` to `-rwx--xr-x`, and so on.  You get the idea.

Another way to change the permission is set the permission directly, instead of adding with `+` and removing with `-`.  To do this, one convenient way is to treat the permission for each class of user as a 3-bit binary number between 0 to 7.  So, `rwx` is 7, `rw-` is 6, `-w-` is 2, `---` is 0, etc.  

To set the permission of a file to `-r--r--r--` (readable by everyone), run:
</pre></div>
</td></tr></table>
chmod 444 <file>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>To set the permission to `-rw-------`, run:
</pre></div>
</td></tr></table>
chmod 600 <file>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>and so on.

It is important to ensure that your code is not readable and writable by other students, especially for graded lab exercises.

### Secure Copy (`scp`)

Secure copy, or `scp`, is one way to transfer files from your local computer to `cs2030-i`.  If you choose not to use `emacs` or `vim`[^2] and write your code on `cs2030-i`, you can write your code on your local computer, and transfer them.  Let&#39;s say that you are in the directory with a bunch of java files you want to transfer, and you want them transferred into directory `test` that you have created, do the following:
</pre></div>
</td></tr></table>
scp *.java happytan@cs2030-i:~/test
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>!!! warning
    If you have files with the same name in the remote directory, the files will be overwritten without warning.  I have lost my code a few times due to `scp`.  

The expression `*.java` is a regular expression that means all files with filename ending with `.java`.  You can copy specific files as well.  For instance,

```shell
scp Circle.java Point.java happytan@cs2030-i:~/test
</pre></div>
</td></tr></table></p>
<p><code class="codehilite">scp</code> supports <code class="codehilite">-r</code> (recursive copy) as well.</p>
<h3 id="setting-up-ssh-keys">Setting up SSH Keys</h3>
<p>Once you are comfortable with UNIX, you can set up a pair of public/private keys for authentication.  </p>
<p>You can use
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ssh-keygen -t rsa
</pre></div>
</td></tr></table></p>
<p>to generate a pair of keys on your local computer.  Keep the private key <code class="codehilite">id_rsa</code> on your local machine in the hidden <code class="codehilite">~/.ssh</code> directory, and copy the public key <code class="codehilite">id_rsa.pub</code> to your home directory on VM <code class="codehilite">cs2030-i</code>.  On <code class="codehilite">cs2030-i</code>, run
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
</pre></div>
</td></tr></table></p>
<p>Make sure that the permission for <code class="codehilite"><span class="na">.ssh</span></code> both on local machine and on VM is set to <code class="codehilite">700</code> and the files <code class="codehilite">id_rsa</code> on local machine and <code class="codehilite">authorized_keys</code> on remote machine is set to <code class="codehilite">600</code>.  Once setup, you need not enter your password every time you run <code class="codehilite">ssh</code> or <code class="codehilite">scp</code>.  </p>
<div class="footnote">
<hr />
<ol>
<li id="fn:2">
<p>My personal opinion is that, you should really master one of these two time-tested source code editor if you want a career in software development.&#160;<a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../javadoc/index.html" title="Javadoc" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Javadoc
              </span>
            </div>
          </a>
        
        
          <a href="../vim/index.html" title="Vim" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Vim
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Wei Tsang Ooi, Department of Computer Science, National University of Singapore 2018
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-c35428f87f.js"></script>
      
      
      <script>app.initialize({url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>